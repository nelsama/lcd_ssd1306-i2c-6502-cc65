/**
 * font_5x7_upper.c - Fuente 5x7 mayúsculas + números
 * 
 * Caracteres: A-Z, 0-9, espacio, algunos símbolos = ~45 chars × 5 bytes = ~225 bytes
 */

#include "ssd1306_font.h"

#if SSD1306_USE_FONT_5X7_UPPER && !SSD1306_USE_FONT_5X7_FULL

/* Fuente 5x7 - mayúsculas y números */
static const uint8_t font5x7_upper[] = {
    /* Espacio y símbolos básicos (32-47 selectos) */
    0x00, 0x00, 0x00, 0x00, 0x00, /* 0: space */
    0x00, 0x00, 0x5F, 0x00, 0x00, /* 1: ! */
    0x08, 0x08, 0x08, 0x08, 0x08, /* 2: - */
    0x00, 0x60, 0x60, 0x00, 0x00, /* 3: . */
    0x20, 0x10, 0x08, 0x04, 0x02, /* 4: / */
    /* 0-9 */
    0x3E, 0x51, 0x49, 0x45, 0x3E, /* 5: 0 */
    0x00, 0x42, 0x7F, 0x40, 0x00, /* 6: 1 */
    0x42, 0x61, 0x51, 0x49, 0x46, /* 7: 2 */
    0x21, 0x41, 0x45, 0x4B, 0x31, /* 8: 3 */
    0x18, 0x14, 0x12, 0x7F, 0x10, /* 9: 4 */
    0x27, 0x45, 0x45, 0x45, 0x39, /* 10: 5 */
    0x3C, 0x4A, 0x49, 0x49, 0x30, /* 11: 6 */
    0x01, 0x71, 0x09, 0x05, 0x03, /* 12: 7 */
    0x36, 0x49, 0x49, 0x49, 0x36, /* 13: 8 */
    0x06, 0x49, 0x49, 0x29, 0x1E, /* 14: 9 */
    /* : */
    0x00, 0x36, 0x36, 0x00, 0x00, /* 15: : */
    /* A-Z */
    0x7E, 0x11, 0x11, 0x11, 0x7E, /* 16: A */
    0x7F, 0x49, 0x49, 0x49, 0x36, /* 17: B */
    0x3E, 0x41, 0x41, 0x41, 0x22, /* 18: C */
    0x7F, 0x41, 0x41, 0x22, 0x1C, /* 19: D */
    0x7F, 0x49, 0x49, 0x49, 0x41, /* 20: E */
    0x7F, 0x09, 0x09, 0x01, 0x01, /* 21: F */
    0x3E, 0x41, 0x41, 0x51, 0x32, /* 22: G */
    0x7F, 0x08, 0x08, 0x08, 0x7F, /* 23: H */
    0x00, 0x41, 0x7F, 0x41, 0x00, /* 24: I */
    0x20, 0x40, 0x41, 0x3F, 0x01, /* 25: J */
    0x7F, 0x08, 0x14, 0x22, 0x41, /* 26: K */
    0x7F, 0x40, 0x40, 0x40, 0x40, /* 27: L */
    0x7F, 0x02, 0x04, 0x02, 0x7F, /* 28: M */
    0x7F, 0x04, 0x08, 0x10, 0x7F, /* 29: N */
    0x3E, 0x41, 0x41, 0x41, 0x3E, /* 30: O */
    0x7F, 0x09, 0x09, 0x09, 0x06, /* 31: P */
    0x3E, 0x41, 0x51, 0x21, 0x5E, /* 32: Q */
    0x7F, 0x09, 0x19, 0x29, 0x46, /* 33: R */
    0x46, 0x49, 0x49, 0x49, 0x31, /* 34: S */
    0x01, 0x01, 0x7F, 0x01, 0x01, /* 35: T */
    0x3F, 0x40, 0x40, 0x40, 0x3F, /* 36: U */
    0x1F, 0x20, 0x40, 0x20, 0x1F, /* 37: V */
    0x7F, 0x20, 0x18, 0x20, 0x7F, /* 38: W */
    0x63, 0x14, 0x08, 0x14, 0x63, /* 39: X */
    0x03, 0x04, 0x78, 0x04, 0x03, /* 40: Y */
    0x61, 0x51, 0x49, 0x45, 0x43, /* 41: Z */
};

/* Mapeo de caracteres a índices */
static uint8_t get_upper_index(char c) {
    if (c == ' ') return 0;
    if (c == '!') return 1;
    if (c == '-') return 2;
    if (c == '.') return 3;
    if (c == '/') return 4;
    if (c >= '0' && c <= '9') return 5 + (c - '0');
    if (c == ':') return 15;
    if (c >= 'A' && c <= 'Z') return 16 + (c - 'A');
    if (c >= 'a' && c <= 'z') return 16 + (c - 'a'); /* Mapear a mayúscula */
    return 0; /* Espacio por defecto */
}

/* Obtener puntero a glyph */
const uint8_t* font_get_glyph(char c) {
    return &font5x7_upper[get_upper_index(c) * 5];
}

/* Ancho de fuente */
uint8_t font_get_width(void) {
    return 5;
}

#endif /* SSD1306_USE_FONT_5X7_UPPER */
